<!-- docs/rup/07-contribuicao/contribuindo.md -->
# Contribuindo

> Base: [./contribuindo.md](./contribuindo.md)
> Plano: [/docs/rup/02-planejamento/roadmap-spec.md](/docs/rup/02-planejamento/roadmap-spec.md)
> Changelog: [/CHANGELOG/20251120103000.md](/CHANGELOG/20251120103000.md)
> Referências correlatas: [Arquitetura do App](/docs/rup/01-arquitetura/arquitetura-da-extensao-spec.md) · [Design geral](/docs/rup/02-design/design-geral-spec.md) · [Testes end-to-end](/docs/rup/04-testes-e-validacao/testes-end-to-end-spec.md)

Este guia descreve como preparar o ambiente, preservar os fluxos legados (`REQ-001` a `REQ-030`) e registrar evidências que comprovem a convivência com a capacidade colaborativa (`REQ-031` a `REQ-035`). Use-o como checklist durante onboarding, desenvolvimento e revisão de contribuições para o App.

[Voltar ao índice](README-spec.md)

## 1. Onboarding rápido
- Leia o [`landing/README.md`](../../landing/README.md) e execute `npm install && npm run dev` dentro de `landing/` para validar CTAs de onboarding, mensagens de consentimento e navegação antes de alterar fluxos digitais. ([REQ-001](../02-planejamento/requisitos-spec.md#req-001), [REQ-006](../02-planejamento/requisitos-spec.md#req-006), [REQ-016](../02-planejamento/requisitos-spec.md#req-016))
- Revise o `docker-compose.yml` e o plano de serviços descrito em [`docs/inputs/PRD_Plataforma_App_Completo.md`](../../docs/inputs/PRD_Plataforma_App_Completo.md) para garantir que waste-ledger, climate-banking e impact-insights permaneçam configurados conforme o catálogo de requisitos. ([REQ-003](../02-planejamento/requisitos-spec.md#req-003), [REQ-008](../02-planejamento/requisitos-spec.md#req-008), [REQ-019](../02-planejamento/requisitos-spec.md#req-019))
- Configure variáveis de ambiente e secrets seguindo as notas de arquitetura em [`docs/rup/01-arquitetura/integracoes-com-apis-spec.md`](../01-arquitetura/integracoes-com-apis-spec.md), mantendo compatibilidade com integrações regulatórias e políticas de publicação. ([REQ-012](../02-planejamento/requisitos-spec.md#req-012), [REQ-018](../02-planejamento/requisitos-spec.md#req-018), [REQ-030](../02-planejamento/requisitos-spec.md#req-030))
- **Nota colaborativa:** ao habilitar mocks de scoring socioambiental ou filas de revisão, isole credenciais da jornada colaborativa e documente a compatibilidade com `REQ-031`–`REQ-035` nos commits ou comentários de PR.
- Valide os campos cadastrais e relacionamentos descritos nos anexos de negócio (organização, unidades, lotes, logística, certificados) antes de evoluir formulários ou schemas, assegurando cobertura para `REQ-002`, `REQ-003` e `REQ-005`.

## 2. Mapa de requisitos legados e referências de contribuição
| Requisito | O que validar ao contribuir | Protótipo / Código de apoio | Nota colaborativa |
| --- | --- | --- | --- |
| [REQ-001](../02-planejamento/requisitos-spec.md#req-001) | Onboarding verde multicanal com KYC/KYB e consentimento explícito. | [`landing/src/pages/Home.tsx`](../../landing/src/pages/Home.tsx), [`docs/inputs/Requisitos_Banco_Digital.txt`](../../docs/inputs/Requisitos_Banco_Digital.txt) | Alinhar checkpoints de revisão humana para cadastros críticos (`REQ-031`). |
| [REQ-002](../02-planejamento/requisitos-spec.md#req-002) | Cadastro completo de organizações, unidades e perfis financeiros com trilha de auditoria. | [`docs/rup/02-design/fluxos-spec.md#fluxo-1--cadastro-e-certificacao-de-cooperativa`](../02-design/fluxos-spec.md#fluxo-1--cadastro-e-certificacao-de-cooperativa), [`docs/inputs/PRD_Plataforma_App_Completo.md`](../../docs/inputs/PRD_Plataforma_App_Completo.md#lotes-e-cooperativas) | Garantir que revisões colaborativas consigam anexar pareceres sem quebrar o histórico (`REQ-033`). |
| [REQ-003](../02-planejamento/requisitos-spec.md#req-003) | Registro de lotes e marketplace com regras de matching e precificação verde. | [`docs/rup/02-design/fluxos-spec.md#fluxo-2--tokenizacao-de-lote-de-residuos`](../02-design/fluxos-spec.md#fluxo-2--tokenizacao-de-lote-de-residuos), [`docs/inputs/PRD_Plataforma_App_Completo.md`](../../docs/inputs/PRD_Plataforma_App_Completo.md#marketplace-e-transacoes) | Compartilhar listas de lotes com a fila de análise colaborativa sem ocultar dados legados (`REQ-032`). |
| [REQ-004](../02-planejamento/requisitos-spec.md#req-004) | Orquestração logística com cadastro de frota, seguros e rotas. | [`docs/rup/02-design/fluxos-spec.md#fluxo-3--liquidacao-financeira-e-distribuicao-de-receita`](../02-design/fluxos-spec.md#fluxo-3--liquidacao-financeira-e-distribuicao-de-receita), [`docs/inputs/PRD_Plataforma_App_Completo.md`](../../docs/inputs/PRD_Plataforma_App_Completo.md#logistica-e-operacao) | Notificar especialistas quando ajustes logísticos alterarem SLAs colaborativos (`REQ-035`). |
| [REQ-005](../02-planejamento/requisitos-spec.md#req-005) | Passaporte digital de resíduos com certificados e métricas históricas. | [`docs/rup/02-design/fluxos-spec.md#fluxo-2--tokenizacao-de-lote-de-residuos`](../02-design/fluxos-spec.md#fluxo-2--tokenizacao-de-lote-de-residuos), [`docs/inputs/PRD_Plataforma_App_Completo.md`](../../docs/inputs/PRD_Plataforma_App_Completo.md#passaporte-digital) | Disponibilizar anexos para especialistas socioambientais revisarem evidências (`REQ-033`). |
| [REQ-006](../02-planejamento/requisitos-spec.md#req-006) | Dashboards de impacto socioambiental para cada persona. | [`landing/src/pages/Home.tsx`](../../landing/src/pages/Home.tsx), [`docs/rup/02-design/fluxos-spec.md#fluxo-4--gestao-de-impacto-e-relatorios`](../02-design/fluxos-spec.md#fluxo-4--gestao-de-impacto-e-relatorios) | Sincronizar indicadores colaborativos (feedbacks humanos) nos gráficos (`REQ-034`). |
| [REQ-007](../02-planejamento/requisitos-spec.md#req-007) | Produtos financeiros climáticos integrados à carteira digital. | [`docs/inputs/PRD_Plataforma_App_Completo.md`](../../docs/inputs/PRD_Plataforma_App_Completo.md#produtos-financeiros), [`docs/rup/01-arquitetura/arquitetura-da-extensao-spec.md`](../01-arquitetura/arquitetura-da-extensao-spec.md#mapa-de-camadas) | Explicar impactos na fila de crédito colaborativa sempre que regras de produtos mudarem (`REQ-031`). |
| [REQ-008](../02-planejamento/requisitos-spec.md#req-008) | Liquidação financeira, split e distribuição automática de incentivos. | [`docs/inputs/PRD_Plataforma_App_Completo.md`](../../docs/inputs/PRD_Plataforma_App_Completo.md#liquidacao-e-distribuicao), [`docker-compose.yml`](../../docker-compose.yml) | Registrar como analistas colaborativos aprovam liberações críticas (`REQ-032`). |
| [REQ-009](../02-planejamento/requisitos-spec.md#req-009) | Tokenização de créditos ambientais e relatórios regulatórios. | [`docs/inputs/PRD_Plataforma_App_Completo.md`](../../docs/inputs/PRD_Plataforma_App_Completo.md#tokenizacao-e-regulacao), [`docs/rup/06-governanca-tecnica-e-controle-de-qualidade/auditoria-e-rastreabilidade-spec.md`](../06-governanca-tecnica-e-controle-de-qualidade/auditoria-e-rastreabilidade-spec.md) | Garantir que auditorias colaborativas consigam anexar pareceres no mesmo repositório (`REQ-034`). |
| [REQ-010](../02-planejamento/requisitos-spec.md#req-010) | Comunidade colaborativa com capacitação, mensagens e suporte inteligente. | [`landing/src/pages/VideosPage.tsx`](../../landing/src/pages/VideosPage.tsx), [`docs/inputs/PRD_Plataforma_App_Completo.md`](../../docs/inputs/PRD_Plataforma_App_Completo.md#comunidade-e-capacitacao) | Conectar fluxos de capacitação ao pipeline colaborativo sem duplicar convites (`REQ-031`). |
| [REQ-011](../02-planejamento/requisitos-spec.md#req-011) | Segmentação de dados e isolamento lógico por organização. | [`docker-compose.yml`](../../docker-compose.yml), [`docs/checklists/001-governanca-operacional-checklist.md`](../../docs/checklists/001-governanca-operacional-checklist.md) | Informar especialistas sobre partições adicionais exigidas por análises colaborativas (`REQ-032`). |
| [REQ-012](../02-planejamento/requisitos-spec.md#req-012) | Disponibilidade mínima de 99,9% para onboarding, marketplace e liquidação. | [`docs/checklists/006-implementacao-padroes-checklist.md`](../../docs/checklists/006-implementacao-padroes-checklist.md), [`docs/checklists/007-testes-validacao-checklist.md`](../../docs/checklists/007-testes-validacao-checklist.md) | Ajustar SLAs compartilhados com a fila colaborativa ao introduzir novas rotinas (`REQ-035`). |
| [REQ-013](../02-planejamento/requisitos-spec.md#req-013) | Tempo de resposta <2s para operações críticas e consultas de carteira. | [`landing/src/store`](../../landing/src/store), [`docs/inputs/PRD_Plataforma_App_Completo.md`](../../docs/inputs/PRD_Plataforma_App_Completo.md#indicadores-de-performance) | Garantir que monitorações colaborativas recebam os mesmos alertas de performance (`REQ-034`). |
| [REQ-014](../02-planejamento/requisitos-spec.md#req-014) | Observabilidade com métricas ESG, rastreabilidade de lotes e alertas pró-ativos. | [`docs/checklists/012-agentes-ia-checklist.md`](../../docs/checklists/012-agentes-ia-checklist.md), [`docs/rup/06-governanca-tecnica-e-controle-de-qualidade/relatorios-automatizados-spec.md`](../06-governanca-tecnica-e-controle-de-qualidade/relatorios-automatizados-spec.md) | Vincular alertas às filas colaborativas para evitar decisões descoordenadas (`REQ-033`). |

### 2.1 Perfis de acesso e controles
- Confirme que fluxos de cadastro e telas administrativas respeitam a hierarquia N0–N5, preservando segregação de funções, MFA e ABAC descritos no catálogo de perfis. ([REQ-001](../02-planejamento/requisitos-spec.md#req-001), [REQ-011](../02-planejamento/requisitos-spec.md#req-011), [REQ-040](../02-planejamento/requisitos-spec.md#req-040)) Veja [RBAC profiles](../../docs/rup/99-anexos/sugestoes-controle-por-perfil-de-autorizacoes.md#L3-L88).
- Ao habilitar multi-perfis (ex.: fornecedor + comprador), garanta que o KYC/KYB e as restrições de relatórios ESG sigam o fluxo aprovado para administradores e auditores. ([REQ-002](../02-planejamento/requisitos-spec.md#req-002), [REQ-034](../02-planejamento/requisitos-spec.md#req-034)) [Requisitos_Banco_Digital.txt (L160-L185)](/docs/rup/99-anexos/Requisitos_Banco_Digital.txt#L160-L185)

## 3. Rotina de revisão e suporte
- Execute `npm run build` e, quando aplicável, `npm run preview` em `landing/` antes de abrir PRs, anexando logs aos relatórios (`REQ-019`, `REQ-022`).
- Documente evidências (prints, gravações ou logs) na pasta `docs/reports/YYYYMMDD/`, vinculando-as ao requisito atendido e à issue correspondente (`REQ-009`, `REQ-029`).
- Registre decisões de UX Writing conforme `AGENTS.md`, incluindo notas de convivência com dashboards colaborativos (`REQ-016`, `REQ-028`, `REQ-034`).
- Para alterações que afetem relatórios ESG, certificados ou trilhas de auditoria, relacione os indicadores exigidos (tCO2e, volume compensado, hash de autenticação) e anexe o artefato gerado em `docs/reports/`, reforçando `REQ-008`, `REQ-009`, `REQ-015` e `REQ-034`.

## 4. Integração com a capacidade colaborativa
- Alterações que impactem scoring socioambiental, filas de crédito ou dashboards de impacto devem declarar compatibilidade com `REQ-031`–`REQ-035` na descrição de commits/PRs.
- Ao adicionar endpoints, mocks ou scripts, referencie o impacto esperado nos marcos colaborativos descritos em [`docs/rup/02-planejamento/capacidade-diagnostico-colaborativo-spec.md`](../02-planejamento/capacidade-diagnostico-colaborativo-spec.md) e mantenha os serviços legados como padrão.
- Atualize a matriz de riscos (`docs/rup/02-planejamento/riscos-e-mitigacoes-spec.md`) quando o fluxo colaborativo exigir exceções aos requisitos legados, anexando o ID de risco correspondente ao PR (`REQ-026`, `REQ-029`).

[Voltar ao índice](README-spec.md)
